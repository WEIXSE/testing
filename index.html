<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Изготовление памятников из литьевого мрамора. Качественно и доступно. Цена в 2 раза ниже гранитного. От эскиза до установки за 10 дней.">
    <meta name="keywords" content="памятники, литьевой мрамор, изготовление памятников, установка памятников, гравировка">
    <title>Памятники из литьевого мрамора | Изготовление и установка</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --white: #FFFFFF;
            --light-gray: #F5F5F5;
            --dark-gray: #333333;
            --accent-green: #4A7C59;
            --accent-blue: #2C3E50;
            --gradient-start: #EDEDED;
            --gradient-end: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .form-preview, .option-preview {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .form-preview:hover, .option-preview:hover {
            transform: scale(1.1);
        }

        .personal-data-section {
            padding: 20px;
            background: var(--light-gray);
            border-radius: 10px;
        }

        #reference-previews {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .reference-preview {
            position: relative;
            width: 100px;
            height: 100px;
        }

        .reference-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .reference-preview img:hover {
            transform: scale(1.1);
        }

        .remove-preview {
            position: absolute;
            top: -10px;
            right: -10px;
            background: red;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--dark-gray);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }

        h1 {
            font-size: 48px;
        }

        p {
            font-size: 16px;
            margin-bottom: 1rem;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--white);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            padding: 15px 0;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-green);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 30px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 600;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--accent-green);
        }

        .header-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .cta-button {
            background-color: var(--accent-green);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            background-color: var(--accent-blue);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .cart-button {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent-green);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--white);
            margin-top: 70px;
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.3));
            z-index: -1;
        }

        .hero-content {
            max-width: 800px;
            padding: 0 20px;
            animation: fadeIn 1.5s ease-out;
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        /* Benefits Section */
        .benefits {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        .benefit-item {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(var(--gradient-start), var(--gradient-end));
            border-radius: 10px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .benefit-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .benefit-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .benefit-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 20px;
            fill: var(--accent-green);
        }

        /* Constructor Section */
        .constructor {
            padding: 80px 0;
        }

        .constructor-tables {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .constructor-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .constructor-table.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .constructor-table th, .constructor-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .constructor-table th {
            background-color: var(--light-gray);
            font-weight: 600;
        }

        .text-counter {
            margin-top: 10px;
            padding: 10px;
            background-color: var(--light-gray);
            border-radius: 5px;
        }

        .total-sidebar {
            position: sticky;
            top: 100px;
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .total-list {
            margin-bottom: 20px;
        }

        .total-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }

        .total-price {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-green);
            text-align: center;
            padding: 10px;
            margin-top: 20px;
            border-top: 2px solid var(--accent-green);
            animation: pulse 2s infinite;
        }

        /* Gallery Section */
        .gallery {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            height: 250px;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover {
            transform: rotateY(10deg) rotateX(5deg);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        /* Footer */
        footer {
            background-color: var(--dark-gray);
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            color: var(--white);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: var(--light-gray);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-column ul li a:hover {
            color: var(--accent-green);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: var(--light-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background-color: var(--accent-green);
            transform: scale(1.1);
        }

        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--white);
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 100%;
            position: relative;
            animation: modalFadeIn 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark-gray);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Open Sans', sans-serif;
        }

        .cart-item {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            h1 {
                font-size: 36px;
            }
            
            .benefits-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .footer-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 32px;
            }
            
            nav ul {
                display: none;
            }
            
            .mobile-menu-button {
                display: block;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
            }
            
            .constructor-tables {
                grid-template-columns: 1fr;
            }
            
            .total-sidebar {
                position: static;
                margin-top: 30px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .hero-content {
                padding: 0 10px;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
        <!-- Header -->
        <header>
            <div class="container header-container">
                <div class="logo">Студия Памяти</div>
                <nav>
                    <ul>
                        <li><a href="#benefits">Преимущества</a></li>
                        <li><a href="#constructor">Конструктор</a></li>
                        <li><a href="#gallery">Галерея</a></li>
                        <li><a href="#contacts">Контакты</a></li>
                    </ul>
                </nav>
                <div class="header-buttons">
                    <button class="cart-button" id="cart-icon">
                        🛒
                        <span class="cart-count">0</span>
                    </button>
                    <a href="#callback-form" class="cta-button">Заказать звонок</a>
                </div>
            </div>
        </header>
    
        <!-- Hero Section -->
        <section class="hero">
            <video autoplay muted loop class="hero-video">
                <source src="video.mp4" type="video/mp4">
                Ваш браузер не поддерживает видео.
            </video>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1>Памятники из литьевого мрамора</h1>
                <p>От эскиза до установки за 14 дней. Цена в 2 раза ниже конкурентов!</p>
                <div class="hero-buttons">
                    <a href="#constructor" class="cta-button">Рассчитать стоимость</a>
                    <a href="#gallery" class="cta-button">Смотреть каталог</a>
                </div>
            </div>
        </section>
    
        <!-- Benefits Section -->
        <section class="benefits" id="benefits">
            <div class="container">
                <h2 class="section-title">Наши преимущества</h2>
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M20.03,3.97C20.03,3.97 21.46,5.39 21.46,5.39L18.63,8.22L15.8,5.39L17.22,3.97L15.8,2.55L12.97,5.38L10.14,2.55L9.79,2.9C9.5,2.27 8.89,1.83 8.18,1.83C7.07,1.83 6.18,2.72 6.18,3.83C6.18,5.22 7.3,6.34 8.69,6.34C9.81,6.34 10.7,5.45 10.7,4.34C10.7,3.63 10.26,3.02 9.63,2.73L12.38,5.48L20.03,13.13L18.61,14.55L10.96,6.9L8.2,9.66L9.62,11.08L11.04,9.66L13.87,12.49L17.22,9.14L20.03,11.95L21.45,10.53L18.64,7.72L21.47,4.89L20.03,3.97Z" />
                        </svg>
                        <h3>Бесплатный замер</h3>
                        <p>Приедем в удобное для вас время для точных замеров</p>
                    </div>
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,6C8.69,6 6,8.69 6,12C6,15.31 8.69,18 12,18C15.31,18 18,15.31 18,12C18,8.69 15.31,6 12,6M12,8.5C13.38,8.5 14.5,9.62 14.5,11C14.5,12.38 13.38,13.5 12,13.5C10.62,13.5 9.5,12.38 9.5,11C9.5,9.62 10.62,8.5 12,8.5M12,16C10.9,16 10,15.1 10,14H14C14,15.1 13.1,16 12,16Z" />
                        </svg>
                        <h3>Собственное производство</h3>
                        <p>Контролируем каждый этап изготовления</p>
                    </div>
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M12,2C6.5,2 2,6.5 2,12C2,17.5 6.5,22 12,22C17.5,22 22,17.5 22,12C22,6.5 17.5,2 12,2M16.3,15.2L11,12.3V7H12.5V11.4L17,13.9L16.3,15.2Z" />
                        </svg>
                        <h3>14 дней на изготовление</h3>
                        <p>Быстрое выполнение даже сложных заказов</p>
                    </div>
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M18,18.5A1.5,1.5 0 0,1 16.5,17A1.5,1.5 0 0,1 18,15.5A1.5,1.5 0 0,1 19.5,17A1.5,1.5 0 0,1 18,18.5M19.5,9.5L21.46,12H17V9.5M6,18.5A1.5,1.5 0 0,1 4.5,17A1.5,1.5 0 0,1 6,15.5A1.5,1.5 0 0,1 7.5,17A1.5,1.5 0 0,1 6,18.5M20,8H17V4H3C1.89,4 1,4.89 1,6V17H3A3,3 0 0,0 6,20A3,3 0 0,0 9,17H15A3,3 0 0,0 18,20A3,3 0 0,0 21,17H23V12L20,8Z" />
                        </svg>
                        <h3>Доставка и установка</h3>
                        <p>Полный комплекс услуг "под ключ"</p>
                    </div>
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M15.58,16.8L12,14.5L8.42,16.8L9.5,12.68L6.21,10L10.46,9.74L12,5.8L13.54,9.74L17.79,10L14.5,12.68M20,12C20,10.89 20.9,10 22,10V6C22,4.89 21.1,4 20,4H4A2,2 0 0,0 2,6V10C3.11,10 4,10.9 4,12A2,2 0 0,1 2,14V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V14A2,2 0 0,1 20,12Z" />
                        </svg>
                        <h3>Доступные цены</h3>
                        <p>Качественные памятники по разумной стоимости</p>
                    </div>
                    <div class="benefit-item">
                        <svg class="benefit-icon" viewBox="0 0 24 24">
                            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" />
                        </svg>
                        <h3>Гарантия 1 год</h3>
                        <p>Гарантируем качество наших изделий</p>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Constructor Section -->
        <section class="constructor" id="constructor">
            <div class="container">
                <h2 class="section-title">Соберите свой памятник онлайн</h2>
                
                <div class="constructor-tables">
                    <!-- Форма памятника -->
                    <table class="constructor-table">
                        <thead>
                            <tr>
                                <th>Форма памятника</th>
                                <th>Изображение</th>
                                <th>Цена за шт.</th>
                                <th>Выбор</th>
                                <th>Сумма</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Форма 1</td>
                                <td><img src="images/forms/1.png" alt="Форма Книга" class="form-preview" data-full="images/forms/1.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 1" checked></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Форма 2</td>
                                <td><img src="images/forms/2.png" alt="Форма Сердце" class="form-preview" data-full="images/forms/2.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 2"></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Форма 3</td>
                                <td><img src="images/forms/3.png" alt="Форма Волна" class="form-preview" data-full="images/forms/3.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 3"></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Форма 4</td>
                                <td><img src="images/forms/4.png" alt="Форма Волна" class="form-preview" data-full="images/forms/4.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 4"></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Форма 5</td>
                                <td><img src="images/forms/5.png" alt="Форма Волна" class="form-preview" data-full="images/forms/5.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 5"></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Форма 6</td>
                                <td><img src="images/forms/6.png" alt="Форма Волна" class="form-preview" data-full="images/forms/6.png"></td>
                                <td>15 000 ₽</td>
                                <td><input type="radio" name="monument-form" value="15000" data-name="Форма 6"></td>
                                <td class="form-price">15 000 ₽</td>
                            </tr>
                        </tbody>
                    </table>
    
                    <!-- Дополнительные элементы -->
                    <table class="constructor-table">
                        <thead>
                            <tr>
                                <th>Услуга</th>
                                <th>Изображение</th>
                                <th>Цена</th>
                                <th>Выбор</th>
                                <th>Сумма</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Цветник</td>
                                <td><img src="images/forms/zvetnik.png" alt="Цветник" class="option-preview" data-full="images/1.png"></td>
                                <td>4 000 ₽</td>
                                <td><input type="checkbox" name="additional" value="4000" data-name="Цветник" checked></td>
                                <td class="additional-price">4 000 ₽</td>
                            </tr>
                            <tr>
                                <td>Установка</td>
                                <td><img src="images/forms/ustanovka.png" alt="Установка" class="option-preview" data-full="images/forms/ustanovka.png"></td>
                                <td>8 000 ₽</td>
                                <td><input type="checkbox" name="additional" value="8000" data-name="Установка" checked></td>
                                <td class="additional-price">8 000 ₽</td>
                            </tr>
                        </tbody>
                    </table>
    
                    <!-- Гравировка и персональные данные -->
                    <div class="constructor-table personal-data-section">
                        <h3>Персональные данные для памятника</h3>
                        
                        <div class="form-group">
                            <label for="full-name">ФИО (полностью)</label>
                            <input type="text" id="full-name" placeholder="Иванов Иван Иванович">
                        </div>
                        
                        <div class="form-group">
                            <label for="birth-date">Дата рождения</label>
                            <input type="date" id="birth-date">
                        </div>
                        
                        <div class="form-group">
                            <label for="death-date">Дата смерти</label>
                            <input type="date" id="death-date">
                        </div>
                        
                        <div class="form-group">
                            <label for="epitaph">Эпитафия (необязательно)</label>
                            <textarea id="epitaph" rows="3" placeholder="Введите текст эпитафии"></textarea>
                        </div>
                        
                        <div class="text-counter">
                            <p>Букв: <span id="letters-count">0</span> x 70 ₽ = <span id="letters-price">0</span> ₽</p>
                            <p>Цифр: <span id="digits-count">0</span> x 50 ₽ = <span id="digits-price">0</span> ₽</p>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="add-portrait" name="portrait" value="5000" data-name="Портрет"> 
                                Добавить портрет (+5 000 ₽)
                            </label>
                            <input type="file" id="portrait-file" style="display: none;" accept="image/*">
                            <div id="portrait-preview" style="display: none; margin-top: 10px;"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="additional-comment">Комментарий к заказу</label>
                            <textarea id="additional-comment" rows="3" placeholder="Дополнительные пожелания, особенности и т.д."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="reference-photos">Добавить фото для примера (необязательно)</label>
                            <input type="file" id="reference-photos" multiple accept="image/*">
                            <div id="reference-previews"></div>
                        </div>
                    </div>
                </div>
    
                <!-- Итоговая стоимость -->
                <div class="total-sidebar">
                    <h3>Ваш заказ</h3>
                    <div class="total-list" id="order-list">
                        <!-- Список выбранных элементов будет здесь -->
                    </div>
                    <div class="total-price" id="total-price">25 000 ₽</div>
                    <button class="cta-button" id="add-to-cart">Добавить в корзину</button>
                </div>
            </div>
        </section>
    
        <!-- Gallery Section -->
        <section class="gallery" id="gallery">
            <div class="container">
                <h2 class="section-title">Галерея наших работ</h2>
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="images/forms/1.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="images/forms/2.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="images/forms/3.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="images/forms/4.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="images/forms/5.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                    <div class="gallery-item">
                        <img src="images/forms/6.png" alt="Памятник из литьевого мрамора" loading="lazy">
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Footer -->
        <footer id="contacts">
            <div class="container">
                <div class="footer-container">
                    <div class="footer-column">
                        <h3>О нас</h3>
                        <p>Изготовление памятников из литьевого мрамора. Качественно и доступно.</p>
                    </div>
                    <div class="footer-column">
                        <h3>Контакты</h3>
                        <ul>
                            <li>Телефон: +7 (991) 816-66-93</li>
                            <li>Email: st.pamyatb@mail.ru</li>
                            <li>Адрес: г. Пермь, ул. Примерная, д. 10</li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Меню</h3>
                        <ul>
                            <li><a href="#benefits">Преимущества</a></li>
                            <li><a href="#constructor">Конструктор</a></li>
                            <li><a href="#gallery">Галерея</a></li>
                            <li><a href="#contacts">Контакты</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Мы в соцсетях</h3>
                        <div class="social-links">
                            <a href="#" aria-label="ВКонтакте">Vk</a>
                            <a href="#" aria-label="Avito">Av</a>
                            <a href="#" aria-label="Odnoclassniki">Ok</a>
                        </div>
                    </div>
                </div>
                <div class="copyright">
                    <p>© 2025 Студия Памяти. Все права защищены.</p>
                </div>
            </div>
        </footer>
    
        <!-- Модальное окно корзины -->
        <div class="modal" id="cart-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Корзина</h2>
                <div id="cart-items">
                    <!-- Товары в корзине -->
                </div>
                <div class="total-price" id="cart-total">0 ₽</div>
                
                <form id="order-form">
                    <div class="form-group">
                        <label for="name">Имя</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Телефон*</label>
                        <input type="tel" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email">
                    </div>
                    <div class="form-group">
                        <label for="address">Адрес</label>
                        <textarea id="address" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="comment">Комментарий</label>
                        <textarea id="comment" rows="3"></textarea>
                    </div>
                    <button type="submit" class="cta-button">Оформить заказ</button>
                </form>
            </div>
        </div>
    
        <!-- Модальное окно для просмотра изображений -->
        <div class="modal" id="image-modal">
            <div class="modal-content" style="max-width: 90%; max-height: 90%;">
                <span class="close-modal">&times;</span>
                <img id="modal-image" src="" alt="Увеличенное изображение" style="max-width: 100%; max-height: 80vh;">
            </div>
        </div>

    <script>
         // Конфигурация цен
         const PRICES = {
            letters: 70,
            digits: 50,
            standardFont: 0,
            cursiveFont: 1000,
            portrait: 5000
        };

          // Инициализация при загрузке страницы
          document.addEventListener('DOMContentLoaded', function() {
            // Инициализация переменных
    let cart = [];
    let cartCount = 0;
    
    // Элементы DOM
    const cartIcon = document.getElementById('cart-icon');
    const cartCountElement = document.querySelector('.cart-count');
    const cartModal = document.getElementById('cart-modal');
    const imageModal = document.getElementById('image-modal');
    const closeModalButtons = document.querySelectorAll('.close-modal');
    const addToCartButton = document.getElementById('add-to-cart');
    const orderForm = document.getElementById('order-form');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    const totalPriceElement = document.getElementById('total-price');
    const orderListElement = document.getElementById('order-list');
    
    // Функции для работы с корзиной
    function updateCartCount() {
        cartCount = cart.length;
        cartCountElement.textContent = cartCount;
    }
    
    function updateTotalPrice() {
        const formPrice = parseInt(document.querySelector('input[name="monument-form"]:checked').value);
        
        let additionalPrice = 0;
        document.querySelectorAll('input[name="additional"]:checked').forEach(input => {
            additionalPrice += parseInt(input.value);
        });
        
        let engravingPrice = 0;
        const lettersCount = document.getElementById('letters-count').textContent;
        const digitsCount = document.getElementById('digits-count').textContent;
        engravingPrice += parseInt(lettersCount) * PRICES.letters;
        engravingPrice += parseInt(digitsCount) * PRICES.digits;
        
        let fontPrice = 0;
        document.querySelectorAll('input[name="font-type"]:checked').forEach(input => {
            if (parseInt(input.value) > 0) {
                fontPrice += parseInt(input.value);
            }
        });
        
        let portraitPrice = 0;
        if (document.getElementById('add-portrait').checked) {
            portraitPrice = PRICES.portrait;
        }
        
        const totalPrice = formPrice + additionalPrice + engravingPrice + fontPrice + portraitPrice;
        totalPriceElement.textContent = `${totalPrice.toLocaleString()} ₽`;
        
        // Обновление списка заказа
        updateOrderList(formPrice, additionalPrice, engravingPrice, fontPrice, portraitPrice);
    }
    
    function updateOrderList(formPrice, additionalPrice, engravingPrice, fontPrice, portraitPrice) {
        orderListElement.innerHTML = '';
        
        // Форма памятника
        const selectedForm = document.querySelector('input[name="monument-form"]:checked');
        const formName = selectedForm.getAttribute('data-name');
        addOrderItem(formName, formPrice);
        
        // Дополнительные услуги
        document.querySelectorAll('input[name="additional"]:checked').forEach(input => {
            addOrderItem(input.getAttribute('data-name'), parseInt(input.value));
        });
        
        // Гравировка
        if (engravingPrice > 0) {
            addOrderItem('Гравировка', engravingPrice);
        }
        
        // Шрифт
        document.querySelectorAll('input[name="font-type"]:checked').forEach(input => {
            if (parseInt(input.value) > 0) {
                addOrderItem(input.getAttribute('data-name'), parseInt(input.value));
            }
        });
        
        // Портрет
        if (portraitPrice > 0) {
            addOrderItem('Портрет', portraitPrice);
        }
    }
    
    function addOrderItem(name, price) {
        const itemElement = document.createElement('div');
        itemElement.className = 'total-item';
        itemElement.innerHTML = `
            <span>${name}</span>
            <span>${price.toLocaleString()} ₽</span>
        `;
        orderListElement.appendChild(itemElement);
    }
    
    function addToCart() {
        const order = {
            id: Date.now(),
            items: [],
            total: parseInt(totalPriceElement.textContent.replace(/\D/g, '')),
            personalData: {
                fullName: document.getElementById('full-name').value,
                birthDate: document.getElementById('birth-date').value,
                deathDate: document.getElementById('death-date').value,
                epitaph: document.getElementById('epitaph').value,
                comment: document.getElementById('additional-comment').value
            },
            timestamp: new Date().toLocaleString()
        };
        
        // Добавляем выбранные элементы
        const selectedForm = document.querySelector('input[name="monument-form"]:checked');
        order.items.push({
            type: 'form',
            name: selectedForm.getAttribute('data-name'),
            price: parseInt(selectedForm.value)
        });
        
        document.querySelectorAll('input[name="additional"]:checked').forEach(input => {
            order.items.push({
                type: 'additional',
                name: input.getAttribute('data-name'),
                price: parseInt(input.value)
            });
        });
        
        // Добавляем гравировку
        const engravingPrice = parseInt(document.getElementById('letters-price').textContent) + 
                              parseInt(document.getElementById('digits-price').textContent);
        if (engravingPrice > 0) {
            order.items.push({
                type: 'engraving',
                name: 'Гравировка',
                price: engravingPrice
            });
        }
        
        // Добавляем шрифт
        document.querySelectorAll('input[name="font-type"]:checked').forEach(input => {
            if (parseInt(input.value) > 0) {
                order.items.push({
                    type: 'font',
                    name: input.getAttribute('data-name'),
                    price: parseInt(input.value)
                });
            }
        });
        
        // Добавляем портрет
        if (document.getElementById('add-portrait').checked) {
            order.items.push({
                type: 'portrait',
                name: 'Портрет',
                price: PRICES.portrait
            });
        }
        
        cart.push(order);
        updateCartCount();
        updateCartModal();
        
        // Показываем уведомление
        alert('Товар добавлен в корзину!');
    }
    
    function updateCartModal() {
        cartItemsContainer.innerHTML = '';
        let cartTotal = 0;
        
        cart.forEach(order => {
            const orderElement = document.createElement('div');
            orderElement.className = 'cart-item';
            
            let itemsHTML = '';
            order.items.forEach(item => {
                itemsHTML += `<p>${item.name}: ${item.price.toLocaleString()} ₽</p>`;
            });
            
            orderElement.innerHTML = `
                <h4>Заказ от ${order.timestamp}</h4>
                ${itemsHTML}
                <p><strong>Итого: ${order.total.toLocaleString()} ₽</strong></p>
                <button class="remove-from-cart" data-id="${order.id}">Удалить</button>
            `;
            
            cartItemsContainer.appendChild(orderElement);
            cartTotal += order.total;
        });
        
        cartTotalElement.textContent = `${cartTotal.toLocaleString()} ₽`;
        
        // Добавляем обработчики для кнопок удаления
        document.querySelectorAll('.remove-from-cart').forEach(button => {
            button.addEventListener('click', function() {
                const orderId = parseInt(this.getAttribute('data-id'));
                cart = cart.filter(order => order.id !== orderId);
                updateCartCount();
                updateCartModal();
            });
        });
    }
    
    // Функции для работы с текстом
    function countText() {
        const fullName = document.getElementById('full-name').value;
        const epitaph = document.getElementById('epitaph').value;
        const birthDate = document.getElementById('birth-date').value;
        const deathDate = document.getElementById('death-date').value;
        
        // Считаем буквы (только кириллические и латинские)
        const allText = fullName + ' ' + epitaph;
        const lettersCount = (allText.match(/[a-zA-Zа-яА-ЯёЁ]/g) || []).length;
        
        // Считаем цифры из дат
        const datesText = birthDate + deathDate;
        const digitsCount = (datesText.match(/\d/g) || []).length;
        
        document.getElementById('letters-count').textContent = lettersCount;
        document.getElementById('digits-count').textContent = digitsCount;
        document.getElementById('letters-price').textContent = (lettersCount * PRICES.letters).toLocaleString();
        document.getElementById('digits-price').textContent = (digitsCount * PRICES.digits).toLocaleString();
        
        updateTotalPrice();
    }
    
    // Функции для работы с изображениями
    function setupImagePreviews() {
        // Превью форм и опций
        document.querySelectorAll('.form-preview, .option-preview').forEach(preview => {
            preview.addEventListener('click', function() {
                const fullImageUrl = this.getAttribute('data-full');
                document.getElementById('modal-image').src = fullImageUrl;
                imageModal.style.display = 'flex';
            });
        });
        
        // Загрузка портрета
        document.getElementById('add-portrait').addEventListener('change', function() {
            const portraitFileInput = document.getElementById('portrait-file');
            const portraitPreview = document.getElementById('portrait-preview');
            
            if (this.checked) {
                portraitFileInput.style.display = 'block';
                portraitPreview.style.display = 'block';
            } else {
                portraitFileInput.style.display = 'none';
                portraitPreview.style.display = 'none';
                portraitPreview.innerHTML = '';
                portraitFileInput.value = '';
            }
            updateTotalPrice();
        });
        
        document.getElementById('portrait-file').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const portraitPreview = document.getElementById('portrait-preview');
                    portraitPreview.innerHTML = `<img src="${e.target.result}" alt="Портрет" style="max-width: 200px; max-height: 200px;">`;
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Загрузка референсных фото
        document.getElementById('reference-photos').addEventListener('change', function(e) {
            const previewsContainer = document.getElementById('reference-previews');
            previewsContainer.innerHTML = '';
            
            Array.from(e.target.files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewDiv = document.createElement('div');
                    previewDiv.className = 'reference-preview';
                    previewDiv.innerHTML = `
                        <img src="${e.target.result}" alt="Пример">
                        <button class="remove-preview">×</button>
                    `;
                    previewsContainer.appendChild(previewDiv);
                    
                    // Обработчик для удаления превью
                    previewDiv.querySelector('.remove-preview').addEventListener('click', function() {
                        previewDiv.remove();
                    });
                };
                reader.readAsDataURL(file);
            });
        });
    }
    
    // Анимации при скролле
    function setupScrollAnimations() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        // Наблюдаем за элементами с анимацией
        document.querySelectorAll('.benefit-item, .constructor-table').forEach(item => {
            observer.observe(item);
        });
    }
    
    // Обработчики событий
    function setupEventListeners() {
        // Открытие/закрытие модальных окон
        cartIcon.addEventListener('click', function() {
            cartModal.style.display = 'flex';
        });
        
        closeModalButtons.forEach(button => {
            button.addEventListener('click', function() {
                cartModal.style.display = 'none';
                imageModal.style.display = 'none';
            });
        });
        
        // Закрытие модальных окон по клику вне области
        window.addEventListener('click', function(e) {
            if (e.target === cartModal) {
                cartModal.style.display = 'none';
            }
            if (e.target === imageModal) {
                imageModal.style.display = 'none';
            }
        });
        
        // Обновление цены при изменении выбора
        document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
            input.addEventListener('change', updateTotalPrice);
        });
        
        // Обновление счетчика текста
        document.getElementById('full-name').addEventListener('input', countText);
        document.getElementById('epitaph').addEventListener('input', countText);
        document.getElementById('birth-date').addEventListener('change', countText);
        document.getElementById('death-date').addEventListener('change', countText);
        
        // Добавление в корзину
        addToCartButton.addEventListener('click', addToCart);
        
        // Оформление заказа
        // Оформление заказа
orderForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (cart.length === 0) {
        alert('Корзина пуста!');
        return;
    }
    
    // Собираем данные формы
    const formData = {
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value,
        address: document.getElementById('address').value,
        comment: document.getElementById('comment').value,
        cart: cart,
        total: cartTotalElement.textContent,
        timestamp: new Date().toLocaleString('ru-RU')
    };
    
    // Отправляем в Telegram
    sendToTelegram(formData);
    
    alert('Заказ успешно оформлен! Мы свяжемся с вами в ближайшее время.');
    
    // Очищаем корзину после успешного заказа
    cart = [];
    updateCartCount();
    updateCartModal();
    cartModal.style.display = 'none';
});

// Оформление заказа
// Оформление заказа
orderForm.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    if (cart.length === 0) {
        alert('Корзина пуста!');
        return;
    }
    
    const submitButton = this.querySelector('button[type="submit"]');
    const originalText = submitButton.textContent;
    
    try {
        submitButton.textContent = 'Отправка...';
        submitButton.disabled = true;
        
        // Собираем данные формы
        const formData = {
            name: document.getElementById('name').value,
            phone: document.getElementById('phone').value,
            email: document.getElementById('email').value,
            address: document.getElementById('address').value,
            comment: document.getElementById('comment').value,
            cart: cart,
            total: cartTotalElement.textContent,
            timestamp: new Date().toLocaleString('ru-RU')
        };
        
        // Отправляем в Telegram (текст + фото)
        const success = await sendToTelegram(formData);
        
        if (success) {
            alert('Заказ успешно оформлен! Мы свяжемся с вами в ближайшее время.');
            
            // Очищаем корзину и форму
            cart = [];
            updateCartCount();
            updateCartModal();
            cartModal.style.display = 'none';
            
            // Очищаем форму и фотографии
            this.reset();
            document.getElementById('portrait-preview').innerHTML = '';
            document.getElementById('reference-previews').innerHTML = '';
            document.getElementById('portrait-file').style.display = 'none';
            document.getElementById('add-portrait').checked = false;
            
        } else {
            alert('Произошла ошибка при отправке заказа. Пожалуйста, попробуйте еще раз или свяжитесь с нами по телефону.');
        }
        
    } catch (error) {
        console.error('Ошибка:', error);
        alert('Произошла ошибка. Пожалуйста, попробуйте еще раз.');
    } finally {
        submitButton.textContent = originalText;
        submitButton.disabled = false;
    }
});

// Сохраняем файлы перед отправкой формы
function saveUploadedFiles() {
    const files = {
        portrait: null,
        references: []
    };
    
    const portraitFile = document.getElementById('portrait-file');
    if (portraitFile.files.length > 0) {
        files.portrait = portraitFile.files[0];
    }
    
    const referencePhotos = document.getElementById('reference-photos');
    if (referencePhotos.files.length > 0) {
        files.references = Array.from(referencePhotos.files);
    }
    
    return files;
}

// Функция отправки в Telegram с async/await
// Функция отправки в Telegram с улучшенной обработкой фото
async function sendToTelegram(formData) {
    const BOT_TOKEN = '8420337282:AAF6yYpx55MuixpO048rUXbGsdgSjld4z6s';
    const CHAT_ID = '7873914635';
    
    if (!BOT_TOKEN || !CHAT_ID || BOT_TOKEN === 'ВАШ_ТОКЕН_БОТА') {
        console.error('Не настроены данные Telegram бота');
        return false;
    }
    
    try {
        // Формируем текстовое сообщение
        let message = `📦 НОВЫЙ ЗАКАЗ\n\n`;
        message += `👤 Имя: ${formData.name}\n`;
        message += `📞 Телефон: ${formData.phone}\n`;
        message += `📧 Email: ${formData.email || 'не указан'}\n`;
        message += `🏠 Адрес: ${formData.address || 'не указан'}\n`;
        message += `💬 Комментарий: ${formData.comment || 'нет'}\n\n`;
        message += `🛒 Состав заказа:\n`;
        
        formData.cart.forEach((order, index) => {
            message += `\nЗаказ #${index + 1}:\n`;
            order.items.forEach(item => {
                message += `• ${item.name}: ${item.price.toLocaleString()} ₽\n`;
            });
            message += `ФИО: ${order.personalData.fullName}\n`;
            message += `Дата рождения: ${order.personalData.birthDate || 'не указана'}\n`;
            message += `Дата смерти: ${order.personalData.deathDate || 'не указана'}\n`;
            if (order.personalData.epitaph) {
                message += `Эпитафия: ${order.personalData.epitaph}\n`;
            }
            if (order.personalData.comment) {
                message += `Комментарий: ${order.personalData.comment}\n`;
            }
        });
        
        message += `\n💰 Общая сумма: ${formData.total}\n`;
        message += `⏰ Время заказа: ${formData.timestamp}`;

        // Отправляем текстовое сообщение
        const encodedMessage = encodeURIComponent(message);
        const textUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodedMessage}`;
        
        const textResponse = await fetch(textUrl);
        const textData = await textResponse.json();
        
        if (!textData.ok) {
            console.error('Ошибка отправки текста:', textData);
        }

        // Отправляем фотографии
        await sendAllPhotosToTelegram(BOT_TOKEN, CHAT_ID);

        return true;
        
    } catch (error) {
        console.error('Ошибка отправки в Telegram:', error);
        return false;
    }
}

// Функция отправки всех фото
async function sendAllPhotosToTelegram(botToken, chatId) {
    try {
        // Портрет
        const portraitFile = document.getElementById('portrait-file');
        if (portraitFile.files.length > 0) {
            await sendPhotoToTelegram(portraitFile.files[0], '🖼️ ПОРТРЕТ для памятника', botToken, chatId);
        }

        // Референсные фото
        const referencePhotos = document.getElementById('reference-photos');
        if (referencePhotos.files.length > 0) {
            for (let i = 0; i < referencePhotos.files.length; i++) {
                await sendPhotoToTelegram(
                    referencePhotos.files[i], 
                    `📸 Пример для памятника (${i + 1}/${referencePhotos.files.length})`, 
                    botToken, 
                    chatId
                );
                // Небольшая задержка между отправками чтобы не превысить лимиты Telegram
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
        }
    } catch (error) {
        console.error('Ошибка отправки фото:', error);
    }
}

// Функция отправки одного фото
async function sendPhotoToTelegram(file, caption, botToken, chatId) {
    const formData = new FormData();
    formData.append('chat_id', chatId);
    formData.append('photo', file);
    formData.append('caption', caption.length > 1024 ? caption.substring(0, 1020) + '...' : caption);
    
    const response = await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
        method: 'POST',
        body: formData
    });
    
    const data = await response.json();
    
    if (!data.ok) {
        console.error('Ошибка отправки фото:', data);
        throw new Error(data.description);
    }
    
    return data.ok;
}
        
        // Плавная прокрутка для навигации
        document.querySelectorAll('nav a, .hero-buttons a').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('href').startsWith('#')) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = targetElement.offsetTop - headerHeight;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });
    }
    
    // Инициализация
    function init() {
        setupEventListeners();
        setupImagePreviews();
        setupScrollAnimations();
        updateTotalPrice(); // Инициализируем начальную цену
        countText(); // Инициализируем счетчик текста
    }
    
    // Запуск инициализации
    init();
});
</script>
</body>
</html>